(this["webpackJsonpkirc-frontend"]=this["webpackJsonpkirc-frontend"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(17),r=n.n(c),i=(n(23),n.p,n(24),n(4)),o=n.n(i),l=n(18),u=n(5),d=n(6),h=n(8),j=n(7),b=(n(26),n(27),n(0)),m=n(29),f=n(48),p=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).msgRef=a.a.createRef(),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.msgRef.current.setAttribute("style",this.props.style)}},{key:"componentDidUpdate",value:function(){this.msgRef.current.setAttribute("style",this.props.style)}},{key:"render",value:function(){return Object(b.jsx)("span",{ref:this.msgRef,children:this.props.message})}}]),n}(a.a.Component),v=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={data:[]},s.btmDivRef=a.a.createRef(),s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.updateMessages()}),1e3),this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"scrollToBottom",value:function(){this.btmDivRef.current.scrollIntoView({behavior:"smooth"});var e=document.getElementById("list");e.scrollTop=e.scrollHeight}},{key:"updateMessages",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get("http://35.157.57.155:80/messages/",{headers:{}});case 3:t=e.sent,f.isEqual(t.data,this.state.data)||this.setState({data:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"getReadableDate",value:function(e){return new Date(e).toLocaleString("no-NO")}},{key:"render",value:function(){var e=this;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)("h1",{children:"KIRC"}),Object(b.jsx)("h6",{children:"Designed by Engineers \u2122"})]}),Object(b.jsx)("div",{className:"page",children:Object(b.jsx)("ul",{className:"list",id:"list",style:{listStyleType:"none"},children:this.state.data.map((function(t){return Object(b.jsx)("li",{children:Object(b.jsxs)("div",{className:"speech-bubble",children:[Object(b.jsxs)("div",{className:"nickname-and-date",children:[Object(b.jsxs)("h3",{className:"nickname",children:[null===t.nickname?"Guest":t.nickname," sier: "]}),Object(b.jsx)("p",{className:"date",children:e.getReadableDate(t.timestamp)})]}),Object(b.jsx)(p,{style:t.style,message:t.message,id:t.id})]})},t.id)}))})}),Object(b.jsx)("div",{ref:this.btmDivRef})]})}}]),n}(a.a.Component);var g=function(){return Object(b.jsx)(v,{})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),O()}},[[51,1,2]]]);
//# sourceMappingURL=main.12e8a080.chunk.js.map